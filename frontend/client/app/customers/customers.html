<section class="container-fluid with-maxwidth no-breadcrumbs chapter">
  <md-card class="no-margin-h">
    <md-toolbar class="md-table-toolbar md-default">
      <div class="md-toolbar-tools">
        <span>Customers</span>
        <div flex></div>
        <md-button class="md-icon-button" ng-click="getCustomers()">
          <md-icon>refresh</md-icon>
        </md-button>
      </div>
    </md-toolbar>

    <md-table-container ng-if="companyId">
      <table md-table>
        <thead md-head>
          <tr md-row>
            <th md-column>
              <span>Name</span>
            </th>
            <th md-column>
              <span>Email</span>
            </th>
            <th md-column md-numeric>
              <span>points</span>
            </th>
          </tr>
        </thead>
        <tbody md-body>
          <tr md-row ng-repeat="customer in customers">
            <td md-cell>{{customer.name}}</td>
            <td md-cell>{{customer.email}}</td>
            <td md-cell>{{customer.points}}</td>
          </tr>
        </tbody>
      </table>
    </md-table-container>

    <div class="col-lg-12" ng-hide="companyId">
      <p>No company selected</p>
    </div>
  </md-card>

  <md-card class="no-margin-h">
      <div class="box-body">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Company</label>
          <md-select ng-model="companyId" ng-change="getCustomers()">
            <md-option ng-repeat="company in companies" value="{{company.companyid}}">
              {{company.name}}
            </md-option>
          </md-select>
        </md-input-container>
      </div>
  </md-card>
</section>
